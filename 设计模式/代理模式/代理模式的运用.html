<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    let myImage = (function () {
            let imgNode = document.createElement("img");
            document.body.appendChild(imgNode)
            return {
                setSrc(src){
                    imgNode.src = src
                }
            }
        }
    )();
    let proxyImage = (function () {
            let image = new Image()
            image.onload = function () {   // 监听图片加载完成
                console.log(this)   //这个this指向image对象
                myImage.setSrc(this.src)  // 替换原图片
            }
            return {
                setSrc(src){
                    myImage.setSrc('./img.png');
                    image.src = src
                }
            }}
    )()
    proxyImage.setSrc('https://img2.baidu.com/it/u=1116803737,2778388361&fm=253&fmt=auto&app=138&f=JPEG?w=670&h=500')

</script>
</html>
